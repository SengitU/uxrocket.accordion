/**
 * UX Rocket
 * jQuery based accordion
 * @author Bilal Cinarli
 */
;(function($){var f,defaults={header:".collapsible-header",content:".collapsible-content",current:'current',closeSiblings:false,animateWith:'css',duration:200,onReady:false,onOpen:false,onClose:false},events={click:'click.uxCollapsible'},ns={rocket:'uxRocket',data:'uxCollapsible',ready:'uxitd-collapsible-ready',opened:'uxitd-collapsible-opened',closed:'uxitd-collapsible-closed',animate:'uxitd-collapsible-animate'};var g=function(a,b,c){var d=$(a),opts=$.extend({},defaults,b,d.data(),{selector:c});opts.siblings=d.siblings(c);opts.children=opts.siblings.find('.'+ns.ready);d.data(ns.data,opts).addClass(ns.animate+opts.animateWith.toUpperCase());l(opts.onReady);h(d)};var h=function(a){var b=a.data(ns.data);a.find('> '+b.header).on(events.click,function(e){e.preventDefault();if(b.animateWith.toLowerCase()==='js'){i(a)}else{j(a)}if(b.closeSiblings){k(b.siblings)}})};var i=function(a,b){var c=a.data(ns.data),_direction=b||a.hasClass(c.current)?'Up':'Down';a.find(c.content)['slide'+_direction](c.duration,function(){j(a,_direction)})};var j=function(a,b){var c=a.data(ns.data),func=[],_which=a.hasClass(c.current)?'Up':'Down';_which=b||_which;func['Up']=['Close','remove'];func['Down']=['Open','add'];a[func[_which][1]+'Class'](c.current+' '+ns.opened);l(c['on'+func[_which][0]])};var k=function(b){b.each(function(){var a=$(this),_opts=a.data(ns.data);if(!a.hasClass(_opts.current)){return}if(_opts['animateWith'].toLowerCase()==='js'){i(a,'Up')}else{j(a,'Up')}if(_opts.children){k(_opts.children)}})};var l=function(a){if(typeof a==='function'){a.apply(this)}else{if(a!==false){var b=new Function('return '+a);b()}}};f=$.fn.collapsible=$.uxcollapsible=function(b){var c=this.selector;return this.each(function(){var a=$(this),uxrocket=a.data(ns.rocket)||{},collapsible;if(a.hasClass(ns.ready)){return}a.addClass(ns.ready);uxrocket[ns.data]={'hasWrapper':false,'ready':ns.ready,'selector':c,'options':b};a.data(ns.rocket,uxrocket);collapsible=new g(this,b,c)})};f.version="0.5.3";f.settings=defaults})(jQuery);